{% extends "_main.jinja" %}

{% block title %} Smeny {% endblock %}


{% block main %}
    
    {% if shifts %}
    {% for shift in shifts %}
    <br>
    {% if session.ahoj==shift.username%}

        {{ shift.truck}}
        {{ shift.date}}
        {{ shift.start_time}}
        {{ shift.end_time}}
    {% elif session.logged%}
        {{ shift.username}}
        {{ shift.truck}}
        {{ shift.date}}
        {{ shift.start_time}}
        {{ shift.end_time}}
    {% else%}
    no
    {% endif %}  
        
    {% endfor %}
   

    


        {# PAGINATION #}
        <ul class="pagination justify-content-center mt-3">

        {# add previous button #}
        {% if paginate.has_prev %}
            <li class="page-item">
                <a class="page-link text-nude" href={{url_for("admin.view_shifts", page=paginate.prev_num)}} >Previous</a>
            </li>
        {% endif %}


        {# ADD NUMBERED LINKS #}
        {%- for page in paginate.iter_pages() %}
            {% if page %}
                {% if page != paginate.page %}
                    <li class="page-item"> <a class="page-link text-nude" href={{ url_for("admin.view_shifts", page=page) }}>{{page}}</a></li>
                {% else %}
                    <li class="page-item disabled"><a class="page-link">{{ page }}</a></li>
                {% endif %}
            {% else %}
                <li class="page-item"><span class="ellipsis"> ...</span></li>
            {% endif %}
        {%- endfor %}

        {# add next button #}
        {% if paginate.has_next %}
            <li class="page-item">
                <a class="page-link text-nude" href={{url_for("admin.view_shifts", page=paginate.next_num)}} >Next</a>
            </li>
        {% endif %}
        </ul>


    {% else %}
    <p> No articles </p>
    {% endif %}

{% endblock %}